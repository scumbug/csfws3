<mat-toolbar color="primary">
    <mat-toolbar-row>
        <span>ToDo App</span>
    </mat-toolbar-row>
</mat-toolbar>
<div fxflex="50%" fxLayout="row wrap" fxLayoutAlign="center" fxLayoutGap="50px" style="margin-top: 5%">
    <div>
        <h1>Add Task</h1>
        <app-form (emitTodo)="addTodo($event)"></app-form>
    </div>
    <div>
        <h1>My Tasks</h1>
        <mat-list style="min-width: 300px;">
            <h1 matSubheader>High</h1>
            <ng-container *ngFor="let todo of todos; index as idx">
                <mat-list-item *ngIf="todo.priority === 'high'">
                    <div mat-line>{{todo.des}}</div>
                    <div mat-line> {{todo.due | date: 'dd MMM'}} </div>
                    <mat-action-list>
                        <button mat-icon-button>
                            <mat-icon> check </mat-icon>
                        </button>
                        <button mat-icon-button data-toggle="modal" data-target="#todoModal" (click)="editTodo(idx)">
                            <mat-icon> edit </mat-icon>
                        </button>
                        <button mat-icon-button (click)="deleteTodo(idx)">
                            <mat-icon> delete </mat-icon>
                        </button>
                    </mat-action-list>
                </mat-list-item>
            </ng-container>

            <mat-divider></mat-divider>

            <div mat-subheader>Medium</div>
            <ng-container *ngFor="let todo of todos; index as idx">
                <mat-list-item *ngIf="todo.priority === 'medium'">
                    <div mat-line>{{todo.des}}</div>
                    <div mat-line> {{todo.due | date: 'dd MMM'}} </div>
                    <mat-action-list>
                        <button mat-icon-button>
                            <mat-icon> check </mat-icon>
                        </button>
                        <button mat-icon-button data-toggle="modal" data-target="#todoModal" (click)="editTodo(idx)">
                            <mat-icon> edit </mat-icon>
                        </button>
                        <button mat-icon-button (click)="deleteTodo(idx)">
                            <mat-icon> delete </mat-icon>
                        </button>
                    </mat-action-list>
                </mat-list-item>
            </ng-container>

            <mat-divider></mat-divider>

            <div mat-subheader>Low</div>
            <ng-container *ngFor="let todo of todos; index as idx">
                <mat-list-item *ngIf="todo.priority === 'low'">
                    <div mat-line>{{todo.des}}</div>
                    <div mat-line> {{todo.due | date: 'dd MMM'}} </div>
                    <mat-action-list>
                        <button mat-icon-button>
                            <mat-icon> check </mat-icon>
                        </button>
                        <button mat-icon-button data-toggle="modal" data-target="#todoModal" (click)="editTodo(idx)">
                            <mat-icon> edit </mat-icon>
                        </button>
                        <button mat-icon-button (click)="deleteTodo(idx)">
                            <mat-icon> delete </mat-icon>
                        </button>
                    </mat-action-list>
                </mat-list-item>
            </ng-container>
        </mat-list>
    </div>
</div>

<!-- edit modal -->
<div class="modal fade" id="todoModal" tabindex="-1" aria-labelledby="todoModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="todoModalLabel">Modal title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="closemodal">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <app-form [todo]="todo" (emitTodo)="updateTodo($event)"></app-form>
            </div>
        </div>
    </div>
</div>